def file_reader():
    documents = {}
    documents[1] = {"title" : "hello", "content" : ["this", "is", "sample", "text"]}
    documents[2] = {"title" : "again", "content" : ["hello", "my", "name", "is", "milad"]}
    return documents

my_file = file_reader()

def positional_indexer(documents : dict, field):
    index = {}
    for this_doc_id in documents.keys():
        this_document : dict= documents[this_doc_id]
        this_doc_content : list = this_document[field]
        for position in range(len(this_doc_content)):
            term = this_doc_content[position]
            if term in index.keys():
                posting_list : dict = index[term]
                if this_doc_id in posting_list.keys():
                    this_term_positions : list = posting_list[this_doc_id]
                    this_term_positions.append(position + 1)
                else:
                    posting_list[this_doc_id] = []
                    posting_list[this_doc_id].append(position + 1)
            else:
                index[term] = {}
                posting_list : dict= index[term]
                posting_list[this_doc_id] = []
                posting_list[this_doc_id].append(position+1)
    return index

index = positional_indexer(my_file,"content")
print(index)